@inherits LayoutComponentBase

<MudThemeProvider Theme="_spaceTheme"/>
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout Class="layout-override">
    <MudDrawerContainer>
        <MudDrawer @bind-Open="@_drawerOpen" Variant="@DrawerVariant.Persistent">
            <MudDrawerHeader Class="flex-drawer-header">
                <MudAvatar Image="assets/img/jiji-blackandwhite.gif"
                           Alt="Profile picture of Jiji from Kiki's Delivery Service." />
                <MudText Typo="Typo.h6">glowies</MudText>
            </MudDrawerHeader>
            <NavMenu />
        </MudDrawer>

        <LeftFAB @onclick="@((e) => DrawerToggle())" />
    </MudDrawerContainer>

    <MudMainContent Class="main-content-override">
        @* Wrap in MudContainer for proper padding/margins *@
        @Body
    </MudMainContent>
</MudLayout>

<style>
    .layout-override {
        height: 100vh;
    }
    .main-content-override {
        height: 100%;
        padding: 8px;
    }
    .flex-drawer-header {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
</style>

@code
{
    MudTheme _spaceTheme = new MudTheme()
    {
        Palette = new Palette()
        {
            Primary = "#ffffff", //"#bb86fc",
            Secondary = "#03dac6",
            Background = Colors.Grey.Darken4,
            Surface = Colors.Grey.Darken4,
            Error = "#cf6679",
            TextPrimary = "#ffffff",
            TextSecondary = "#000000",
            PrimaryContrastText = "#000000",
            DrawerBackground = "#ffffff",
            DrawerText = "#000000",
            DrawerIcon = "#000000"

        }
    };

    bool _drawerOpen = false;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}
